export const messages = [
  {
    "id": 1,
    "senderId": 5,
    "receiverId": 1,
    "content": "Bạn ơi, code phần đó lỗi rồi.",
    "createdAt": 1749553200000,
    "isRead": false
  },
  {
    "id": 2,
    "senderId": 3,
    "receiverId": 4,
    "content": "Chào bạn, hôm nay bạn thế nào?",
    "createdAt": 1749173340000,
    "isRead": false
  },
  {
    "id": 3,
    "senderId": 1,
    "receiverId": 2,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749305880000,
    "isRead": false
  },
  {
    "id": 4,
    "senderId": 3,
    "receiverId": 2,
    "content": "Mai họp nhóm lúc 9h nha.",
    "createdAt": 1749279240000,
    "isRead": false
  },
  {
    "id": 5,
    "senderId": 5,
    "receiverId": 3,
    "content": "Hẹn gặp bạn chiều nay ở văn phòng.",
    "createdAt": 1749231480000,
    "isRead": false
  },
  {
    "id": 6,
    "senderId": 5,
    "receiverId": 2,
    "content": "Hẹn gặp bạn chiều nay ở văn phòng.",
    "createdAt": 1749302040000,
    "isRead": false
  },
  {
    "id": 7,
    "senderId": 5,
    "receiverId": 2,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749369600000,
    "isRead": false
  },
  {
    "id": 8,
    "senderId": 4,
    "receiverId": 5,
    "content": "Mai họp nhóm lúc 9h nha.",
    "createdAt": 1749583320000,
    "isRead": true
  },
  {
    "id": 9,
    "senderId": 4,
    "receiverId": 1,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749558780000,
    "isRead": true
  },
  {
    "id": 10,
    "senderId": 1,
    "receiverId": 3,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749120840000,
    "isRead": true
  },
  {
    "id": 11,
    "senderId": 5,
    "receiverId": 4,
    "content": "Chào bạn, hôm nay bạn thế nào?",
    "createdAt": 1749449220000,
    "isRead": true
  },
  {
    "id": 12,
    "senderId": 2,
    "receiverId": 5,
    "content": "Mai họp nhóm lúc 9h nha.",
    "createdAt": 1749421620000,
    "isRead": false
  },
  {
    "id": 13,
    "senderId": 3,
    "receiverId": 5,
    "content": "Mai họp nhóm lúc 9h nha.",
    "createdAt": 1749011520000,
    "isRead": false
  },
  {
    "id": 14,
    "senderId": 3,
    "receiverId": 5,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1749282600000,
    "isRead": false
  },
  {
    "id": 15,
    "senderId": 2,
    "receiverId": 1,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1748998380000,
    "isRead": true
  },
  {
    "id": 16,
    "senderId": 4,
    "receiverId": 3,
    "content": "Cảm ơn bạn đã giúp mình nhé!",
    "createdAt": 1749458640000,
    "isRead": true
  },
  {
    "id": 17,
    "senderId": 2,
    "receiverId": 3,
    "content": "Tối nay rảnh không đi cà phê không?",
    "createdAt": 1749091860000,
    "isRead": true
  },
  {
    "id": 18,
    "senderId": 5,
    "receiverId": 3,
    "content": "Chào bạn, hôm nay bạn thế nào?",
    "createdAt": 1749185820000,
    "isRead": true
  },
  {
    "id": 19,
    "senderId": 3,
    "receiverId": 2,
    "content": "Hẹn gặp bạn chiều nay ở văn phòng.",
    "createdAt": 1749464820000,
    "isRead": false
  },
  {
    "id": 20,
    "senderId": 1,
    "receiverId": 3,
    "content": "Bạn ơi, code phần đó lỗi rồi.",
    "createdAt": 1749521460000,
    "isRead": false
  },
  {
    "id": 21,
    "senderId": 4,
    "receiverId": 5,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1749370500000,
    "isRead": false
  },
  {
    "id": 22,
    "senderId": 2,
    "receiverId": 3,
    "content": "Hẹn gặp bạn chiều nay ở văn phòng.",
    "createdAt": 1749127860000,
    "isRead": false
  },
  {
    "id": 23,
    "senderId": 2,
    "receiverId": 4,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749163020000,
    "isRead": true
  },
  {
    "id": 24,
    "senderId": 1,
    "receiverId": 2,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749186180000,
    "isRead": false
  },
  {
    "id": 25,
    "senderId": 3,
    "receiverId": 2,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749576600000,
    "isRead": true
  },
  {
    "id": 26,
    "senderId": 2,
    "receiverId": 5,
    "content": "Mai họp nhóm lúc 9h nha.",
    "createdAt": 1749150420000,
    "isRead": true
  },
  {
    "id": 27,
    "senderId": 5,
    "receiverId": 4,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749137160000,
    "isRead": false
  },
  {
    "id": 28,
    "senderId": 5,
    "receiverId": 1,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749108840000,
    "isRead": false
  },
  {
    "id": 29,
    "senderId": 4,
    "receiverId": 1,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749380340000,
    "isRead": false
  },
  {
    "id": 30,
    "senderId": 5,
    "receiverId": 3,
    "content": "Chào bạn, hôm nay bạn thế nào?",
    "createdAt": 1749001080000,
    "isRead": true
  },
  {
    "id": 31,
    "senderId": 3,
    "receiverId": 2,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1749422400000,
    "isRead": false
  },
  {
    "id": 32,
    "senderId": 1,
    "receiverId": 4,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749441480000,
    "isRead": false
  },
  {
    "id": 33,
    "senderId": 3,
    "receiverId": 2,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749118500000,
    "isRead": true
  },
  {
    "id": 34,
    "senderId": 4,
    "receiverId": 3,
    "content": "Cảm ơn bạn đã giúp mình nhé!",
    "createdAt": 1749225780000,
    "isRead": true
  },
  {
    "id": 35,
    "senderId": 3,
    "receiverId": 4,
    "content": "Chào bạn, hôm nay bạn thế nào?",
    "createdAt": 1749381300000,
    "isRead": true
  },
  {
    "id": 36,
    "senderId": 4,
    "receiverId": 2,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749527760000,
    "isRead": false
  },
  {
    "id": 37,
    "senderId": 5,
    "receiverId": 4,
    "content": "Hẹn gặp bạn chiều nay ở văn phòng.",
    "createdAt": 1749259800000,
    "isRead": false
  },
  {
    "id": 38,
    "senderId": 1,
    "receiverId": 2,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749427380000,
    "isRead": false
  },
  {
    "id": 39,
    "senderId": 1,
    "receiverId": 4,
    "content": "Tối nay rảnh không đi cà phê không?",
    "createdAt": 1749583620000,
    "isRead": false
  },
  {
    "id": 40,
    "senderId": 2,
    "receiverId": 3,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749009660000,
    "isRead": false
  },
  {
    "id": 41,
    "senderId": 5,
    "receiverId": 4,
    "content": "Cảm ơn bạn đã giúp mình nhé!",
    "createdAt": 1749026760000,
    "isRead": true
  },
  {
    "id": 42,
    "senderId": 3,
    "receiverId": 1,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749347340000,
    "isRead": true
  },
  {
    "id": 43,
    "senderId": 3,
    "receiverId": 4,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749515880000,
    "isRead": true
  },
  {
    "id": 44,
    "senderId": 2,
    "receiverId": 1,
    "content": "Chào bạn, hôm nay bạn thế nào?",
    "createdAt": 1749465000000,
    "isRead": true
  },
  {
    "id": 45,
    "senderId": 3,
    "receiverId": 5,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749369240000,
    "isRead": false
  },
  {
    "id": 46,
    "senderId": 4,
    "receiverId": 5,
    "content": "Chào bạn, hôm nay bạn thế nào?",
    "createdAt": 1749355800000,
    "isRead": true
  },
  {
    "id": 47,
    "senderId": 5,
    "receiverId": 3,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1749363300000,
    "isRead": true
  },
  {
    "id": 48,
    "senderId": 2,
    "receiverId": 5,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749497940000,
    "isRead": true
  },
  {
    "id": 49,
    "senderId": 2,
    "receiverId": 3,
    "content": "Chào bạn, hôm nay bạn thế nào?",
    "createdAt": 1749028860000,
    "isRead": false
  },
  {
    "id": 50,
    "senderId": 2,
    "receiverId": 5,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749082620000,
    "isRead": true
  },
  {
    "id": 51,
    "senderId": 1,
    "receiverId": 3,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1749155520000,
    "isRead": true
  },
  {
    "id": 52,
    "senderId": 2,
    "receiverId": 1,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1749595080000,
    "isRead": false
  },
  {
    "id": 53,
    "senderId": 1,
    "receiverId": 2,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749550260000,
    "isRead": false
  },
  {
    "id": 54,
    "senderId": 1,
    "receiverId": 2,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1749462660000,
    "isRead": false
  },
  {
    "id": 55,
    "senderId": 5,
    "receiverId": 1,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749358080000,
    "isRead": true
  },
  {
    "id": 56,
    "senderId": 2,
    "receiverId": 5,
    "content": "Cảm ơn bạn đã giúp mình nhé!",
    "createdAt": 1749017160000,
    "isRead": false
  },
  {
    "id": 57,
    "senderId": 5,
    "receiverId": 1,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749492900000,
    "isRead": false
  },
  {
    "id": 58,
    "senderId": 4,
    "receiverId": 1,
    "content": "Hẹn gặp bạn chiều nay ở văn phòng.",
    "createdAt": 1749546840000,
    "isRead": false
  },
  {
    "id": 59,
    "senderId": 4,
    "receiverId": 1,
    "content": "Bạn ơi, code phần đó lỗi rồi.",
    "createdAt": 1749397860000,
    "isRead": false
  },
  {
    "id": 60,
    "senderId": 1,
    "receiverId": 2,
    "content": "Cảm ơn bạn đã giúp mình nhé!",
    "createdAt": 1749052980000,
    "isRead": false
  },
  {
    "id": 61,
    "senderId": 3,
    "receiverId": 5,
    "content": "Hẹn gặp bạn chiều nay ở văn phòng.",
    "createdAt": 1749394020000,
    "isRead": false
  },
  {
    "id": 62,
    "senderId": 4,
    "receiverId": 3,
    "content": "Chào bạn, hôm nay bạn thế nào?",
    "createdAt": 1749267960000,
    "isRead": true
  },
  {
    "id": 63,
    "senderId": 4,
    "receiverId": 1,
    "content": "Hẹn gặp bạn chiều nay ở văn phòng.",
    "createdAt": 1749474660000,
    "isRead": true
  },
  {
    "id": 64,
    "senderId": 1,
    "receiverId": 5,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749020520000,
    "isRead": true
  },
  {
    "id": 65,
    "senderId": 4,
    "receiverId": 2,
    "content": "Mai họp nhóm lúc 9h nha.",
    "createdAt": 1749224520000,
    "isRead": true
  },
  {
    "id": 66,
    "senderId": 3,
    "receiverId": 4,
    "content": "Hẹn gặp bạn chiều nay ở văn phòng.",
    "createdAt": 1749333420000,
    "isRead": false
  },
  {
    "id": 67,
    "senderId": 2,
    "receiverId": 4,
    "content": "Mai họp nhóm lúc 9h nha.",
    "createdAt": 1749170760000,
    "isRead": false
  },
  {
    "id": 68,
    "senderId": 4,
    "receiverId": 2,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749584640000,
    "isRead": true
  },
  {
    "id": 69,
    "senderId": 3,
    "receiverId": 2,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749585900000,
    "isRead": true
  },
  {
    "id": 70,
    "senderId": 3,
    "receiverId": 5,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749230100000,
    "isRead": true
  },
  {
    "id": 71,
    "senderId": 3,
    "receiverId": 5,
    "content": "Tối nay rảnh không đi cà phê không?",
    "createdAt": 1749312000000,
    "isRead": false
  },
  {
    "id": 72,
    "senderId": 2,
    "receiverId": 1,
    "content": "Bạn ơi, code phần đó lỗi rồi.",
    "createdAt": 1749065220000,
    "isRead": true
  },
  {
    "id": 73,
    "senderId": 3,
    "receiverId": 5,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1749074820000,
    "isRead": true
  },
  {
    "id": 74,
    "senderId": 3,
    "receiverId": 4,
    "content": "Tối nay rảnh không đi cà phê không?",
    "createdAt": 1749535560000,
    "isRead": true
  },
  {
    "id": 75,
    "senderId": 4,
    "receiverId": 5,
    "content": "Chào bạn, hôm nay bạn thế nào?",
    "createdAt": 1749525900000,
    "isRead": false
  },
  {
    "id": 76,
    "senderId": 1,
    "receiverId": 3,
    "content": "Cảm ơn bạn đã giúp mình nhé!",
    "createdAt": 1749082500000,
    "isRead": false
  },
  {
    "id": 77,
    "senderId": 5,
    "receiverId": 2,
    "content": "Hẹn gặp bạn chiều nay ở văn phòng.",
    "createdAt": 1749093660000,
    "isRead": false
  },
  {
    "id": 78,
    "senderId": 5,
    "receiverId": 4,
    "content": "Tối nay rảnh không đi cà phê không?",
    "createdAt": 1749483660000,
    "isRead": false
  },
  {
    "id": 79,
    "senderId": 4,
    "receiverId": 2,
    "content": "Mai họp nhóm lúc 9h nha.",
    "createdAt": 1749194640000,
    "isRead": false
  },
  {
    "id": 80,
    "senderId": 3,
    "receiverId": 1,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749480420000,
    "isRead": false
  },
  {
    "id": 81,
    "senderId": 5,
    "receiverId": 1,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1749370980000,
    "isRead": true
  },
  {
    "id": 82,
    "senderId": 3,
    "receiverId": 2,
    "content": "Tối nay rảnh không đi cà phê không?",
    "createdAt": 1749323640000,
    "isRead": true
  },
  {
    "id": 83,
    "senderId": 1,
    "receiverId": 3,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749011100000,
    "isRead": false
  },
  {
    "id": 84,
    "senderId": 1,
    "receiverId": 5,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749156720000,
    "isRead": false
  },
  {
    "id": 85,
    "senderId": 2,
    "receiverId": 3,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749070680000,
    "isRead": false
  },
  {
    "id": 86,
    "senderId": 3,
    "receiverId": 1,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749443400000,
    "isRead": false
  },
  {
    "id": 87,
    "senderId": 2,
    "receiverId": 4,
    "content": "Tối nay rảnh không đi cà phê không?",
    "createdAt": 1749524880000,
    "isRead": true
  },
  {
    "id": 88,
    "senderId": 3,
    "receiverId": 5,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749476880000,
    "isRead": true
  },
  {
    "id": 89,
    "senderId": 5,
    "receiverId": 3,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749513180000,
    "isRead": false
  },
  {
    "id": 90,
    "senderId": 5,
    "receiverId": 1,
    "content": "Bạn ơi, code phần đó lỗi rồi.",
    "createdAt": 1749245880000,
    "isRead": true
  },
  {
    "id": 91,
    "senderId": 2,
    "receiverId": 3,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749570240000,
    "isRead": false
  },
  {
    "id": 92,
    "senderId": 3,
    "receiverId": 4,
    "content": "Bạn ơi, code phần đó lỗi rồi.",
    "createdAt": 1749162000000,
    "isRead": true
  },
  {
    "id": 93,
    "senderId": 1,
    "receiverId": 5,
    "content": "Bạn ơi, code phần đó lỗi rồi.",
    "createdAt": 1749584520000,
    "isRead": true
  },
  {
    "id": 94,
    "senderId": 1,
    "receiverId": 4,
    "content": "Hôm nay deadline đó, đừng quên nộp bài.",
    "createdAt": 1749322980000,
    "isRead": true
  },
  {
    "id": 95,
    "senderId": 3,
    "receiverId": 2,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749026160000,
    "isRead": false
  },
  {
    "id": 96,
    "senderId": 2,
    "receiverId": 5,
    "content": "Có gì mới không bạn?",
    "createdAt": 1749158400000,
    "isRead": true
  },
  {
    "id": 97,
    "senderId": 2,
    "receiverId": 4,
    "content": "Tối nay rảnh không đi cà phê không?",
    "createdAt": 1749205500000,
    "isRead": true
  },
  {
    "id": 98,
    "senderId": 3,
    "receiverId": 1,
    "content": "Bạn ơi, code phần đó lỗi rồi.",
    "createdAt": 1749465480000,
    "isRead": true
  },
  {
    "id": 99,
    "senderId": 1,
    "receiverId": 5,
    "content": "Bạn nhớ gửi file hôm qua nha.",
    "createdAt": 1749592860000,
    "isRead": false
  },
  {
    "id": 100,
    "senderId": 5,
    "receiverId": 3,
    "content": "Mình cần bạn hỗ trợ phần báo cáo nhé.",
    "createdAt": 1749533760000,
    "isRead": false
  }
];

/**
 * Lấy danh sách các cuộc hội thoại của một user
 * @param {number} userId - id của user hiện tại
 * @param {Array} messages - mảng messages
 * @returns {Array<{userId: number, messages: Array}>}
 */
export function getConversations(userId, messages) {
  const convMap = {};
  messages.forEach(msg => {
    if (msg.senderId === userId || msg.receiverId === userId) {
      const otherId = msg.senderId === userId ? msg.receiverId : msg.senderId;
      if (!convMap[otherId]) convMap[otherId] = [];
      convMap[otherId].push(msg);
    }
  });
  return Object.entries(convMap).map(([otherId, msgs]) => ({
    userId: Number(otherId),
    messages: msgs.sort((a, b) => a.createdAt - b.createdAt)
  }));
}